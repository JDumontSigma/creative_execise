<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JSONP &verbar; Retrieval Example</title>
</head>
<body>
  <h1>This is retrieving data from across domains using JSONP</h1>
  <div class="demo"></div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script type="text/javascript">
  // Tiny object for getting counts
  var socialGetter = (function() {
  	/* just a utility to do the script injection */
  	function injectScript(url) {
  		var script = document.createElement('script');
  		script.async = true;
  		script.src = url;
  		document.body.appendChild(script);
  	}

  	return {
  		getFacebookCount: function(url, callbackName) {
  			injectScript('https://graph.facebook.com/?id=' + url + '&callback=' + callbackName);
  		}
  	};
  })();



  function facebookCallback(result) {
    $('.demo').append(result.share.share_count);
  	 console.log('The count is: ', result.share.share_count);
  }

  // Usage
  socialGetter.getFacebookCount('https://davidwalsh.name/twitter-facebook-jsonp', 'facebookCallback');

  </script>
</body>
</html>
