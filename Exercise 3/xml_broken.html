<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>XML &verbar; Reteival Example</title>
</head>
<body>
<h1>This is retrieving XML data from a local file</h1>
<h2>The box below contains information about</h2>
<h2 class="title">Fruit</h2>
<div class="demo"></div>
<!-- Require Jquery to use the Ajax methods built in -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script type="text/javascript">
var string = "";
$(document).ready(function(){
  $.ajax({
    type: "GET",
    url: "https://jdumontsigma.github.io/creative_exercise/Exercise%203/fes/xml.xml",
    dataType: "xml",
    cache: false,
    //if the response is successful then run this function
    success: function(data){
      $(data).find('item').each(function(){
        string += "Fruit Name: " + $(this).find('name').text() + "<br/>";
        string += "Fruit Colour: " + $(this).find('colour').text() + "<br/>";
        string += "Is it expensive?: " + $(this).find('expensive').text() + "<br/>";
        string += "Available everywhere?: " + $(this).find('supermarket').text() + "<br/>";
        string += "======================================================================" + "<br/>";

      });
    }
  }).fail(function(data){
    string = "There was an error retrieving the data";
    //Once the success function has run though completely execute this
  }).done(function(){
    //put the generated string into the demo div to show on screen
    $('.demo').html(string);
  });
});


</script>
</body>
</html>
